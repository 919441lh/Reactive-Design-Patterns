# 第3章——行业主流工具

## 可用性 99.9999999%

3.1536 seconds of downtime in 100 years
 
@@snip[片段3-1](../../../../chapter03/snips/snip3-1.md){ #snip }

## 代码清单3-1

Listing 3.1 Unsafe, mutable message class, which may hide unexpected behavior

@@snip[代码清单3-1](../../../../chapter03/src/main/java/chapter03/Unsafe.java){ #snip }

## 代码清单3-2

Listing 3.2 Immutable message class that behaves predictably and is easier to reason about

@@snip[代码清单3-2](../../../../chapter03/src/main/java/chapter03/Immutable.java){ #snip }

## 代码清单3-3

使用Scala的case class定义的不可变消息

@@snip[代码清单3-3](../../../../chapter03/src/main/scala/chapter03/Message.scala){ #snip }

## 代码清单3-4

引用不透明

@@snip[代码清单3-4](../../../../chapter03/src/main/java/chapter03/UsingStringBuffer.java){ #snip }

## 代码清单3-5

引用透明

Referential transparency: allowing substitution of precomputed values

@@snip[代码清单3-5](../../../../chapter03/src/main/java/chapter03/Rooter.java){ #snip }

## 代码清单3-6

Limiting usability with side effects

@@snip[代码清单3-6](../../../../chapter03/src/main/java/chapter03/SideEffecting.java){ #snip }

## 代码清单3-7

@@snip[代码清单3-7](../../../../chapter03/src/main/java/chapter03/IntSeeding.java){ #snip }

## 代码清单3-8

@@snip[代码清单3-8](../../../../chapter03/src/main/java/chapter03/UsingMapFunction.java){ #snip }


## Python REPL 3-1

@@snip[Python REPL 3-1](../../../../chapter03/src/main/python/output/myFunction.py.output){ #output }

## 代码清单3-9

@@snip[代码清单3-9](../../../../chapter03/eventloop/src/main/js/sample.js){ #snip }

## 代码清单3-10

@@snip[代码清单3-10](../../../../chapter03/csp/src/main/go/sample.go){ #snip }

## 代码清单3-11

@@snip[代码清单3-11](../../../../chapter03/futures-and-promises/src/main/java/chapter03/future/ParallelRetrievalExample.java){ #snip }

## 代码清单3-12

@@snip[代码清单3-12](../../../../chapter03/futures-and-promises/src/main/scala/chapter03/future/StagedFuturesForExample.scala){ #snip }

## 代码清单3-13

@@snip[代码清单3-13](../../../../chapter03/futures-and-promises/src/main/scala/chapter03/future/StagedFuturesAsyncExample.scala){ #snip }

## 代码清单3-14

@@snip[代码清单3-14](../../../../chapter03/reactiveExtensions/src/main/java/chapter03/rxjava/RxJavaExample.java){ #snip }

## 代码清单3-15

@@snip[代码清单3-15](../../../../chapter03/reactiveExtensions/src/main/java/chapter03/rxjava/RxJavaExampleDriver.java){ #snip }

## 代码清单3-16

@@snip[代码清单3-16](../../../../chapter03/actor/src/main/scala/chapter03/actor/Example.scala){ #snip }







